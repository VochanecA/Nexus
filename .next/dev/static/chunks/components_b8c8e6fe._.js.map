{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/GitHubNovi/Nexus/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,iLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///D:/GitHubNovi/Nexus/components/profile/profile-header.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { createClient } from \"@/lib/supabase/client\"\n\ninterface Profile {\n  id: string\n  username: string\n  display_name: string\n  bio: string | null\n  avatar_url: string | null\n}\n\ninterface ProfileHeaderProps {\n  profile: Profile\n  isOwnProfile: boolean\n  isFollowing: boolean\n  followersCount: number\n  followingCount: number\n  postsCount: number\n}\n\nexport function ProfileHeader({\n  profile,\n  isOwnProfile,\n  isFollowing: initialIsFollowing,\n  followersCount: initialFollowersCount,\n  followingCount,\n  postsCount,\n}: ProfileHeaderProps) {\n  const router = useRouter()\n  const [isFollowing, setIsFollowing] = useState(initialIsFollowing)\n  const [followersCount, setFollowersCount] = useState(initialFollowersCount)\n  const [loading, setLoading] = useState(false)\n\n  const handleFollow = async () => {\n    setLoading(true)\n    const supabase = createClient()\n\n    const {\n      data: { user },\n    } = await supabase.auth.getUser()\n\n    if (!user) {\n      router.push(\"/login\")\n      return\n    }\n\n    if (isFollowing) {\n      await supabase.from(\"follows\").delete().eq(\"follower_id\", user.id).eq(\"following_id\", profile.id)\n      setIsFollowing(false)\n      setFollowersCount((prev) => prev - 1)\n    } else {\n      await supabase.from(\"follows\").insert({ follower_id: user.id, following_id: profile.id })\n      setIsFollowing(true)\n      setFollowersCount((prev) => prev + 1)\n    }\n\n    setLoading(false)\n    router.refresh()\n  }\n\n  return (\n    <div className=\"border-b bg-card\">\n      <div className=\"mx-auto max-w-2xl px-4 py-8\">\n        <div className=\"flex items-start gap-6\">\n          <Avatar className=\"h-24 w-24\">\n            <AvatarImage src={profile.avatar_url || undefined} alt={profile.display_name} />\n            <AvatarFallback className=\"text-2xl\">{profile.display_name[0].toUpperCase()}</AvatarFallback>\n          </Avatar>\n\n          <div className=\"flex-1\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-2xl font-bold\">{profile.display_name}</h1>\n                <p className=\"text-muted-foreground\">@{profile.username}</p>\n              </div>\n\n              {isOwnProfile ? (\n                <Button variant=\"outline\" asChild>\n                  <Link href=\"/profile/edit\">Edit Profile</Link>\n                </Button>\n              ) : (\n                <Button onClick={handleFollow} disabled={loading} variant={isFollowing ? \"outline\" : \"default\"}>\n                  {loading ? \"Loading...\" : isFollowing ? \"Unfollow\" : \"Follow\"}\n                </Button>\n              )}\n            </div>\n\n            {profile.bio && <p className=\"mt-4 text-balance\">{profile.bio}</p>}\n\n            <div className=\"mt-4 flex gap-6 text-sm\">\n              <div>\n                <span className=\"font-semibold\">{postsCount}</span> <span className=\"text-muted-foreground\">posts</span>\n              </div>\n              <div>\n                <span className=\"font-semibold\">{followersCount}</span>{\" \"}\n                <span className=\"text-muted-foreground\">followers</span>\n              </div>\n              <div>\n                <span className=\"font-semibold\">{followingCount}</span>{\" \"}\n                <span className=\"text-muted-foreground\">following</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AA0BO,SAAS,cAAc,EAC5B,OAAO,EACP,YAAY,EACZ,aAAa,kBAAkB,EAC/B,gBAAgB,qBAAqB,EACrC,cAAc,EACd,UAAU,EACS;;IACnB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,WAAW;QACX,MAAM,WAAW,IAAA,4IAAY;QAE7B,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QAE/B,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,IAAI,aAAa;YACf,MAAM,SAAS,IAAI,CAAC,WAAW,MAAM,GAAG,EAAE,CAAC,eAAe,KAAK,EAAE,EAAE,EAAE,CAAC,gBAAgB,QAAQ,EAAE;YAChG,eAAe;YACf,kBAAkB,CAAC,OAAS,OAAO;QACrC,OAAO;YACL,MAAM,SAAS,IAAI,CAAC,WAAW,MAAM,CAAC;gBAAE,aAAa,KAAK,EAAE;gBAAE,cAAc,QAAQ,EAAE;YAAC;YACvF,eAAe;YACf,kBAAkB,CAAC,OAAS,OAAO;QACrC;QAEA,WAAW;QACX,OAAO,OAAO;IAChB;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,wIAAM;wBAAC,WAAU;;0CAChB,6LAAC,6IAAW;gCAAC,KAAK,QAAQ,UAAU,IAAI;gCAAW,KAAK,QAAQ,YAAY;;;;;;0CAC5E,6LAAC,gJAAc;gCAAC,WAAU;0CAAY,QAAQ,YAAY,CAAC,EAAE,CAAC,WAAW;;;;;;;;;;;;kCAG3E,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DAAsB,QAAQ,YAAY;;;;;;0DACxD,6LAAC;gDAAE,WAAU;;oDAAwB;oDAAE,QAAQ,QAAQ;;;;;;;;;;;;;oCAGxD,6BACC,6LAAC,wIAAM;wCAAC,SAAQ;wCAAU,OAAO;kDAC/B,cAAA,6LAAC,0KAAI;4CAAC,MAAK;sDAAgB;;;;;;;;;;6DAG7B,6LAAC,wIAAM;wCAAC,SAAS;wCAAc,UAAU;wCAAS,SAAS,cAAc,YAAY;kDAClF,UAAU,eAAe,cAAc,aAAa;;;;;;;;;;;;4BAK1D,QAAQ,GAAG,kBAAI,6LAAC;gCAAE,WAAU;0CAAqB,QAAQ,GAAG;;;;;;0CAE7D,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DACC,6LAAC;gDAAK,WAAU;0DAAiB;;;;;;4CAAkB;0DAAC,6LAAC;gDAAK,WAAU;0DAAwB;;;;;;;;;;;;kDAE9F,6LAAC;;0DACC,6LAAC;gDAAK,WAAU;0DAAiB;;;;;;4CAAuB;0DACxD,6LAAC;gDAAK,WAAU;0DAAwB;;;;;;;;;;;;kDAE1C,6LAAC;;0DACC,6LAAC;gDAAK,WAAU;0DAAiB;;;;;;4CAAuB;0DACxD,6LAAC;gDAAK,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQxD;GAvFgB;;QAQC,kJAAS;;;KARV"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///D:/GitHubNovi/Nexus/components/follow/follow-button.tsx"],"sourcesContent":["// components/follow/follow-button.tsx\r\n\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { UserPlus, UserCheck, Loader2 } from \"lucide-react\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface FollowButtonProps {\r\n  followerId: string;\r\n  followingId: string;\r\n  isFollowing: boolean;\r\n  className?: string;\r\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\r\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\r\n  onFollowChange?: (isFollowing: boolean) => void;\r\n}\r\n\r\nexport function FollowButton({\r\n  followerId,\r\n  followingId,\r\n  isFollowing: initialIsFollowing,\r\n  className = \"\",\r\n  size = \"sm\",\r\n  variant,\r\n  onFollowChange,\r\n}: FollowButtonProps) {\r\n  const [isFollowing, setIsFollowing] = useState(initialIsFollowing);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const supabase = createClient();\r\n\r\n  const handleFollowToggle = async () => {\r\n    if (!followerId || !followingId) return;\r\n    \r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      if (isFollowing) {\r\n        // Unfollow\r\n        const { error } = await supabase\r\n          .from(\"follows\")\r\n          .delete()\r\n          .eq(\"follower_id\", followerId)\r\n          .eq(\"following_id\", followingId);\r\n        \r\n        if (error) throw error;\r\n        \r\n        setIsFollowing(false);\r\n        toast.success(\"Unfollowed\");\r\n      } else {\r\n        // Follow\r\n        const { error } = await supabase\r\n          .from(\"follows\")\r\n          .insert({\r\n            follower_id: followerId,\r\n            following_id: followingId,\r\n          });\r\n        \r\n        if (error) {\r\n          // Možda već postoji\r\n          if (error.code === '23505') { // Unique violation\r\n            setIsFollowing(true);\r\n          } else {\r\n            throw error;\r\n          }\r\n        } else {\r\n          setIsFollowing(true);\r\n        }\r\n        toast.success(\"Following\");\r\n      }\r\n      \r\n      onFollowChange?.(!isFollowing);\r\n    } catch (error) {\r\n      console.error(\"Error toggling follow:\", error);\r\n      toast.error(\"Failed to update follow status\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Odredite variant na osnovu isFollowing\r\n  const buttonVariant = variant || (isFollowing ? \"outline\" : \"default\");\r\n\r\n  return (\r\n    <Button\r\n      size={size}\r\n      variant={buttonVariant}\r\n      onClick={handleFollowToggle}\r\n      disabled={isLoading || followerId === followingId}\r\n      className={`gap-2 ${className}`}\r\n    >\r\n      {isLoading ? (\r\n        <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n      ) : isFollowing ? (\r\n        <>\r\n          <UserCheck className=\"h-4 w-4\" />\r\n          <span className=\"hidden sm:inline\">Following</span>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <UserPlus className=\"h-4 w-4\" />\r\n          <span className=\"hidden sm:inline\">Follow</span>\r\n        </>\r\n      )}\r\n    </Button>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;AAGtC;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AANA;;;;;;AAkBO,SAAS,aAAa,EAC3B,UAAU,EACV,WAAW,EACX,aAAa,kBAAkB,EAC/B,YAAY,EAAE,EACd,OAAO,IAAI,EACX,OAAO,EACP,cAAc,EACI;;IAClB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,WAAW,IAAA,4IAAY;IAE7B,MAAM,qBAAqB;QACzB,IAAI,CAAC,cAAc,CAAC,aAAa;QAEjC,aAAa;QAEb,IAAI;YACF,IAAI,aAAa;gBACf,WAAW;gBACX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,WACL,MAAM,GACN,EAAE,CAAC,eAAe,YAClB,EAAE,CAAC,gBAAgB;gBAEtB,IAAI,OAAO,MAAM;gBAEjB,eAAe;gBACf,oJAAK,CAAC,OAAO,CAAC;YAChB,OAAO;gBACL,SAAS;gBACT,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,WACL,MAAM,CAAC;oBACN,aAAa;oBACb,cAAc;gBAChB;gBAEF,IAAI,OAAO;oBACT,oBAAoB;oBACpB,IAAI,MAAM,IAAI,KAAK,SAAS;wBAC1B,eAAe;oBACjB,OAAO;wBACL,MAAM;oBACR;gBACF,OAAO;oBACL,eAAe;gBACjB;gBACA,oJAAK,CAAC,OAAO,CAAC;YAChB;YAEA,iBAAiB,CAAC;QACpB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,oJAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,aAAa;QACf;IACF;IAEA,yCAAyC;IACzC,MAAM,gBAAgB,WAAW,CAAC,cAAc,YAAY,SAAS;IAErE,qBACE,6LAAC,wIAAM;QACL,MAAM;QACN,SAAS;QACT,SAAS;QACT,UAAU,aAAa,eAAe;QACtC,WAAW,CAAC,MAAM,EAAE,WAAW;kBAE9B,0BACC,6LAAC,+NAAO;YAAC,WAAU;;;;;mBACjB,4BACF;;8BACE,6LAAC,gOAAS;oBAAC,WAAU;;;;;;8BACrB,6LAAC;oBAAK,WAAU;8BAAmB;;;;;;;yCAGrC;;8BACE,6LAAC,6NAAQ;oBAAC,WAAU;;;;;;8BACpB,6LAAC;oBAAK,WAAU;8BAAmB;;;;;;;;;;;;;AAK7C;GAxFgB;KAAA"}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"sources":["file:///D:/GitHubNovi/Nexus/components/post/post-card.tsx"],"sourcesContent":["// components/post/post-card.tsx\n\"use client\";\n\nimport type React from \"react\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Heart, MessageCircle, LogIn, MoreVertical } from \"lucide-react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { FollowButton } from \"@/components/follow/follow-button\";\n\ninterface Post {\n  id: string;\n  content: string;\n  created_at: string;\n  user_id: string;\n  username: string;\n  display_name: string;\n  avatar_url: string | null;\n  likes_count: number;\n  comments_count: number;\n  user_has_liked: boolean;\n}\n\ninterface PostCardProps {\n  post: Post;\n  showFollowButton?: boolean;\n  currentUserId?: string;\n  isCurrentUserFollowing?: boolean;\n  onFollowChange?: (userId: string, isFollowing: boolean) => void;\n}\n\nexport function PostCard({ \n  post, \n  showFollowButton = false,\n  currentUserId,\n  isCurrentUserFollowing = false,\n  onFollowChange\n}: PostCardProps): React.JSX.Element {\n  const router = useRouter();\n  const [liked, setLiked] = useState<boolean>(post.user_has_liked);\n  const [likesCount, setLikesCount] = useState<number>(post.likes_count);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(false);\n  const [authUserId, setAuthUserId] = useState<string | null>(null);\n\n  // Provjera da li je korisnik logovan\n  useEffect(() => {\n    const checkAuth = async (): Promise<void> => {\n      const supabase = createClient();\n      const { data: { user } } = await supabase.auth.getUser();\n      setIsAuthenticated(!!user);\n      setAuthUserId(user?.id || null);\n      \n      // Ažuriraj liked status ako je korisnik logovan\n      if (user) {\n        const { data: like } = await supabase\n          .from(\"likes\")\n          .select(\"id\")\n          .eq(\"post_id\", post.id)\n          .eq(\"user_id\", user.id)\n          .maybeSingle();\n        setLiked(!!like);\n      }\n    };\n    \n    void checkAuth();\n  }, [post.id]);\n\n  // Trenutni korisnik (prioritet: prop > state)\n  const currentUser = currentUserId || authUserId;\n\n  // Da li prati ovog korisnika\n  const isFollowing = isCurrentUserFollowing || false;\n\n  const handleLike = async (e: React.MouseEvent<HTMLButtonElement>): Promise<void> => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // Ako nije logovan, redirect na login\n    if (!isAuthenticated) {\n      router.push(\"/login\");\n      return;\n    }\n\n    setLoading(true);\n    const supabase = createClient();\n\n    const {\n      data: { user },\n    } = await supabase.auth.getUser();\n\n    if (!user) {\n      router.push(\"/login\");\n      return;\n    }\n\n    try {\n      if (liked) {\n        await supabase\n          .from(\"likes\")\n          .delete()\n          .eq(\"post_id\", post.id)\n          .eq(\"user_id\", user.id);\n        setLiked(false);\n        setLikesCount((prev) => prev - 1);\n      } else {\n        await supabase\n          .from(\"likes\")\n          .insert({ \n            post_id: post.id, \n            user_id: user.id \n          });\n        setLiked(true);\n        setLikesCount((prev) => prev + 1);\n      }\n    } catch (error) {\n      console.error(\"Error toggling like:\", error);\n    } finally {\n      setLoading(false);\n      // Refresh feed da bi se ažurirali broječi\n      router.refresh();\n    }\n  };\n\n  const handleFollowStatusChange = (isFollowing: boolean) => {\n    if (onFollowChange && post.user_id) {\n      onFollowChange(post.user_id, isFollowing);\n    }\n  };\n\n  const handleCardClick = (e: React.MouseEvent<HTMLDivElement>): void => {\n    // Provjeri da li je klik na link ili dugme\n    const target = e.target as HTMLElement;\n    if (target.closest(\"a, button, [role='button']\")) {\n      return;\n    }\n    router.push(`/post/${post.id}`);\n  };\n\n  const handleCommentButtonClick = (e: React.MouseEvent<HTMLButtonElement>): void => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    // Ako nije logovan, redirect na login\n    if (!isAuthenticated) {\n      router.push(\"/login\");\n      return;\n    }\n    \n    router.push(`/post/${post.id}`);\n  };\n\n  const handleProfileLinkClick = (e: React.MouseEvent<HTMLAnchorElement>): void => {\n    e.stopPropagation();\n  };\n\n  const getInitials = (name: string): string => {\n    return name\n      .split(\" \")\n      .map((part) => part[0])\n      .join(\"\")\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  return (\n    <div \n      onClick={handleCardClick}\n      className=\"block transition-colors hover:bg-muted/50 cursor-pointer rounded-lg relative\"\n      role=\"button\"\n      tabIndex={0}\n      onKeyDown={(e: React.KeyboardEvent<HTMLDivElement>) => {\n        if (e.key === \"Enter\" || e.key === \" \") {\n          e.preventDefault();\n          router.push(`/post/${post.id}`);\n        }\n      }}\n    >\n      <article className=\"p-4\">\n        <div className=\"flex gap-3\">\n          {/* Avatar link */}\n          <div className=\"relative z-10\">\n            <Link \n              href={`/profile/${post.username}`} \n              onClick={handleProfileLinkClick}\n              className=\"inline-block\"\n              aria-label={`View ${post.display_name}'s profile`}\n            >\n              <Avatar className=\"h-10 w-10\">\n                <AvatarImage \n                  src={post.avatar_url || undefined} \n                  alt={post.display_name} \n                />\n                <AvatarFallback className=\"text-sm\">\n                  {getInitials(post.display_name)}\n                </AvatarFallback>\n              </Avatar>\n            </Link>\n          </div>\n\n          <div className=\"flex-1 space-y-2\">\n            {/* User info and timestamp */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2 flex-wrap\">\n                <Link\n                  href={`/profile/${post.username}`}\n                  onClick={handleProfileLinkClick}\n                  className=\"font-semibold hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\n                  aria-label={`View ${post.display_name}'s profile`}\n                >\n                  {post.display_name}\n                </Link>\n                \n                <Link\n                  href={`/profile/${post.username}`}\n                  onClick={handleProfileLinkClick}\n                  className=\"text-muted-foreground text-sm hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\n                  aria-label={`View @${post.username}'s profile`}\n                >\n                  @{post.username}\n                </Link>\n                \n                <span className=\"text-muted-foreground text-sm\">·</span>\n                \n                <span className=\"text-muted-foreground text-sm\">\n                  {formatDistanceToNow(new Date(post.created_at), { addSuffix: true })}\n                </span>\n              </div>\n\n              {/* Follow button (desno) */}\n              {showFollowButton && isAuthenticated && currentUser && currentUser !== post.user_id && (\n                <div className=\"relative z-20\" onClick={(e) => e.stopPropagation()}>\n                  <FollowButton\n                    followerId={currentUser}\n                    followingId={post.user_id}\n                    isFollowing={isFollowing}\n                    onFollowChange={handleFollowStatusChange}\n                  />\n                </div>\n              )}\n            </div>\n\n            {/* Post content */}\n            <p className=\"whitespace-pre-wrap text-pretty break-words\">{post.content}</p>\n\n            {/* Actions */}\n            <div className=\"flex items-center gap-6\">\n              {/* Comment button */}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-8 gap-2 px-2 text-muted-foreground hover:text-primary relative z-10\"\n                onClick={handleCommentButtonClick}\n                type=\"button\"\n                aria-label={`${isAuthenticated ? `View comments (${post.comments_count})` : 'Sign in to comment'}`}\n              >\n                <MessageCircle className=\"h-4 w-4\" />\n                <span className=\"text-sm\">{post.comments_count}</span>\n                {!isAuthenticated && (\n                  <span className=\"absolute -top-1 -right-1\">\n                    <LogIn className=\"h-3 w-3 text-muted-foreground\" />\n                  </span>\n                )}\n              </Button>\n\n              {/* Like button */}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className={`h-8 gap-2 px-2 relative z-10 ${\n                  liked ? \"text-red-500 hover:text-red-600\" : \"text-muted-foreground hover:text-red-500\"\n                }`}\n                onClick={handleLike}\n                disabled={loading || (!isAuthenticated && !liked)}\n                type=\"button\"\n                aria-label={`${isAuthenticated ? (liked ? \"Unlike\" : \"Like\") : \"Sign in to like\"} post (${likesCount} likes)`}\n              >\n                <Heart className={`h-4 w-4 ${liked ? \"fill-current\" : \"\"}`} />\n                <span className=\"text-sm\">{likesCount}</span>\n                {!isAuthenticated && !liked && (\n                  <span className=\"absolute -top-1 -right-1\">\n                    <LogIn className=\"h-3 w-3 text-muted-foreground\" />\n                  </span>\n                )}\n              </Button>\n\n              {/* Indikator da treba login */}\n              {!isAuthenticated && (\n                <span className=\"text-xs text-muted-foreground\">\n                  Sign in to interact\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      </article>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;AAKhC;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AAZA;;;;;;;;;;AAmCO,SAAS,SAAS,EACvB,IAAI,EACJ,mBAAmB,KAAK,EACxB,aAAa,EACb,yBAAyB,KAAK,EAC9B,cAAc,EACA;;IACd,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAU,KAAK,cAAc;IAC/D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAS,KAAK,WAAW;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAU;IAChD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAU;IAChE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAgB;IAE5D,qCAAqC;IACrC,IAAA,0KAAS;8BAAC;YACR,MAAM;gDAAY;oBAChB,MAAM,WAAW,IAAA,4IAAY;oBAC7B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;oBACtD,mBAAmB,CAAC,CAAC;oBACrB,cAAc,MAAM,MAAM;oBAE1B,gDAAgD;oBAChD,IAAI,MAAM;wBACR,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAC1B,IAAI,CAAC,SACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,WAAW;wBACd,SAAS,CAAC,CAAC;oBACb;gBACF;;YAEA,KAAK;QACP;6BAAG;QAAC,KAAK,EAAE;KAAC;IAEZ,8CAA8C;IAC9C,MAAM,cAAc,iBAAiB;IAErC,6BAA6B;IAC7B,MAAM,cAAc,0BAA0B;IAE9C,MAAM,aAAa,OAAO;QACxB,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,sCAAsC;QACtC,IAAI,CAAC,iBAAiB;YACpB,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,WAAW;QACX,MAAM,WAAW,IAAA,4IAAY;QAE7B,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QAE/B,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,IAAI;YACF,IAAI,OAAO;gBACT,MAAM,SACH,IAAI,CAAC,SACL,MAAM,GACN,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,WAAW,KAAK,EAAE;gBACxB,SAAS;gBACT,cAAc,CAAC,OAAS,OAAO;YACjC,OAAO;gBACL,MAAM,SACH,IAAI,CAAC,SACL,MAAM,CAAC;oBACN,SAAS,KAAK,EAAE;oBAChB,SAAS,KAAK,EAAE;gBAClB;gBACF,SAAS;gBACT,cAAc,CAAC,OAAS,OAAO;YACjC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC,SAAU;YACR,WAAW;YACX,0CAA0C;YAC1C,OAAO,OAAO;QAChB;IACF;IAEA,MAAM,2BAA2B,CAAC;QAChC,IAAI,kBAAkB,KAAK,OAAO,EAAE;YAClC,eAAe,KAAK,OAAO,EAAE;QAC/B;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,2CAA2C;QAC3C,MAAM,SAAS,EAAE,MAAM;QACvB,IAAI,OAAO,OAAO,CAAC,+BAA+B;YAChD;QACF;QACA,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;IAChC;IAEA,MAAM,2BAA2B,CAAC;QAChC,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,sCAAsC;QACtC,IAAI,CAAC,iBAAiB;YACpB,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;IAChC;IAEA,MAAM,yBAAyB,CAAC;QAC9B,EAAE,eAAe;IACnB;IAEA,MAAM,cAAc,CAAC;QACnB,OAAO,KACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,OAAS,IAAI,CAAC,EAAE,EACrB,IAAI,CAAC,IACL,WAAW,GACX,KAAK,CAAC,GAAG;IACd;IAEA,qBACE,6LAAC;QACC,SAAS;QACT,WAAU;QACV,MAAK;QACL,UAAU;QACV,WAAW,CAAC;YACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;gBACtC,EAAE,cAAc;gBAChB,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAChC;QACF;kBAEA,cAAA,6LAAC;YAAQ,WAAU;sBACjB,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,0KAAI;4BACH,MAAM,CAAC,SAAS,EAAE,KAAK,QAAQ,EAAE;4BACjC,SAAS;4BACT,WAAU;4BACV,cAAY,CAAC,KAAK,EAAE,KAAK,YAAY,CAAC,UAAU,CAAC;sCAEjD,cAAA,6LAAC,wIAAM;gCAAC,WAAU;;kDAChB,6LAAC,6IAAW;wCACV,KAAK,KAAK,UAAU,IAAI;wCACxB,KAAK,KAAK,YAAY;;;;;;kDAExB,6LAAC,gJAAc;wCAAC,WAAU;kDACvB,YAAY,KAAK,YAAY;;;;;;;;;;;;;;;;;;;;;;kCAMtC,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,0KAAI;gDACH,MAAM,CAAC,SAAS,EAAE,KAAK,QAAQ,EAAE;gDACjC,SAAS;gDACT,WAAU;gDACV,cAAY,CAAC,KAAK,EAAE,KAAK,YAAY,CAAC,UAAU,CAAC;0DAEhD,KAAK,YAAY;;;;;;0DAGpB,6LAAC,0KAAI;gDACH,MAAM,CAAC,SAAS,EAAE,KAAK,QAAQ,EAAE;gDACjC,SAAS;gDACT,WAAU;gDACV,cAAY,CAAC,MAAM,EAAE,KAAK,QAAQ,CAAC,UAAU,CAAC;;oDAC/C;oDACG,KAAK,QAAQ;;;;;;;0DAGjB,6LAAC;gDAAK,WAAU;0DAAgC;;;;;;0DAEhD,6LAAC;gDAAK,WAAU;0DACb,IAAA,4KAAmB,EAAC,IAAI,KAAK,KAAK,UAAU,GAAG;oDAAE,WAAW;gDAAK;;;;;;;;;;;;oCAKrE,oBAAoB,mBAAmB,eAAe,gBAAgB,KAAK,OAAO,kBACjF,6LAAC;wCAAI,WAAU;wCAAgB,SAAS,CAAC,IAAM,EAAE,eAAe;kDAC9D,cAAA,6LAAC,4JAAY;4CACX,YAAY;4CACZ,aAAa,KAAK,OAAO;4CACzB,aAAa;4CACb,gBAAgB;;;;;;;;;;;;;;;;;0CAOxB,6LAAC;gCAAE,WAAU;0CAA+C,KAAK,OAAO;;;;;;0CAGxE,6LAAC;gCAAI,WAAU;;kDAEb,6LAAC,wIAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS;wCACT,MAAK;wCACL,cAAY,GAAG,kBAAkB,CAAC,eAAe,EAAE,KAAK,cAAc,CAAC,CAAC,CAAC,GAAG,sBAAsB;;0DAElG,6LAAC,4OAAa;gDAAC,WAAU;;;;;;0DACzB,6LAAC;gDAAK,WAAU;0DAAW,KAAK,cAAc;;;;;;4CAC7C,CAAC,iCACA,6LAAC;gDAAK,WAAU;0DACd,cAAA,6LAAC,oNAAK;oDAAC,WAAU;;;;;;;;;;;;;;;;;kDAMvB,6LAAC,wIAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAW,CAAC,6BAA6B,EACvC,QAAQ,oCAAoC,4CAC5C;wCACF,SAAS;wCACT,UAAU,WAAY,CAAC,mBAAmB,CAAC;wCAC3C,MAAK;wCACL,cAAY,GAAG,kBAAmB,QAAQ,WAAW,SAAU,kBAAkB,OAAO,EAAE,WAAW,OAAO,CAAC;;0DAE7G,6LAAC,gNAAK;gDAAC,WAAW,CAAC,QAAQ,EAAE,QAAQ,iBAAiB,IAAI;;;;;;0DAC1D,6LAAC;gDAAK,WAAU;0DAAW;;;;;;4CAC1B,CAAC,mBAAmB,CAAC,uBACpB,6LAAC;gDAAK,WAAU;0DACd,cAAA,6LAAC,oNAAK;oDAAC,WAAU;;;;;;;;;;;;;;;;;oCAMtB,CAAC,iCACA,6LAAC;wCAAK,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUhE;GA3QgB;;QAOC,kJAAS;;;KAPV"}},
    {"offset": {"line": 889, "column": 0}, "map": {"version":3,"sources":["file:///D:/GitHubNovi/Nexus/components/profile/user-posts.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { PostCard } from \"@/components/post/post-card\"\n\ninterface Post {\n  id: string\n  content: string\n  created_at: string\n  user_id: string\n  username: string\n  display_name: string\n  avatar_url: string | null\n  likes_count: number\n  comments_count: number\n  user_has_liked: boolean\n}\n\ninterface UserPostsProps {\n  userId: string\n}\n\nexport function UserPosts({ userId }: UserPostsProps) {\n  const [posts, setPosts] = useState<Post[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    async function fetchPosts() {\n      const supabase = createClient()\n\n      const { data } = await supabase\n        .from(\"posts\")\n        .select(\n          `\n          *,\n          profiles!posts_user_id_fkey(username, display_name, avatar_url)\n        `,\n        )\n        .eq(\"user_id\", userId)\n        .order(\"created_at\", { ascending: false })\n\n      if (data) {\n        const formattedPosts = await Promise.all(\n          data.map(async (post) => {\n            const { count: likesCount } = await supabase\n              .from(\"likes\")\n              .select(\"*\", { count: \"exact\", head: true })\n              .eq(\"post_id\", post.id)\n\n            const { count: commentsCount } = await supabase\n              .from(\"comments\")\n              .select(\"*\", { count: \"exact\", head: true })\n              .eq(\"post_id\", post.id)\n\n            const {\n              data: { user },\n            } = await supabase.auth.getUser()\n            let userHasLiked = false\n            if (user) {\n              const { data: like } = await supabase\n                .from(\"likes\")\n                .select(\"id\")\n                .eq(\"post_id\", post.id)\n                .eq(\"user_id\", user.id)\n                .maybeSingle()\n              userHasLiked = !!like\n            }\n\n            return {\n              id: post.id,\n              content: post.content,\n              created_at: post.created_at,\n              user_id: post.user_id,\n              username: post.profiles.username,\n              display_name: post.profiles.display_name,\n              avatar_url: post.profiles.avatar_url,\n              likes_count: likesCount ?? 0,\n              comments_count: commentsCount ?? 0,\n              user_has_liked: userHasLiked,\n            }\n          }),\n        )\n\n        setPosts(formattedPosts)\n      }\n\n      setLoading(false)\n    }\n\n    fetchPosts()\n  }, [userId])\n\n  if (loading) {\n    return <div className=\"py-8 text-center text-muted-foreground\">Loading posts...</div>\n  }\n\n  if (posts.length === 0) {\n    return <div className=\"py-8 text-center text-muted-foreground\">No posts yet</div>\n  }\n\n  return (\n    <div className=\"space-y-0 divide-y\">\n      {posts.map((post) => (\n        <PostCard key={post.id} post={post} />\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAuBO,SAAS,UAAU,EAAE,MAAM,EAAkB;;IAClD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;+BAAC;YACR,eAAe;gBACb,MAAM,WAAW,IAAA,4IAAY;gBAE7B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,SACL,MAAM,CACL,CAAC;;;QAGH,CAAC,EAEA,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAE1C,IAAI,MAAM;oBACR,MAAM,iBAAiB,MAAM,QAAQ,GAAG,CACtC,KAAK,GAAG;0DAAC,OAAO;4BACd,MAAM,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,SACL,MAAM,CAAC,KAAK;gCAAE,OAAO;gCAAS,MAAM;4BAAK,GACzC,EAAE,CAAC,WAAW,KAAK,EAAE;4BAExB,MAAM,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,SACpC,IAAI,CAAC,YACL,MAAM,CAAC,KAAK;gCAAE,OAAO;gCAAS,MAAM;4BAAK,GACzC,EAAE,CAAC,WAAW,KAAK,EAAE;4BAExB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;4BAC/B,IAAI,eAAe;4BACnB,IAAI,MAAM;gCACR,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAC1B,IAAI,CAAC,SACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,WAAW;gCACd,eAAe,CAAC,CAAC;4BACnB;4BAEA,OAAO;gCACL,IAAI,KAAK,EAAE;gCACX,SAAS,KAAK,OAAO;gCACrB,YAAY,KAAK,UAAU;gCAC3B,SAAS,KAAK,OAAO;gCACrB,UAAU,KAAK,QAAQ,CAAC,QAAQ;gCAChC,cAAc,KAAK,QAAQ,CAAC,YAAY;gCACxC,YAAY,KAAK,QAAQ,CAAC,UAAU;gCACpC,aAAa,cAAc;gCAC3B,gBAAgB,iBAAiB;gCACjC,gBAAgB;4BAClB;wBACF;;oBAGF,SAAS;gBACX;gBAEA,WAAW;YACb;YAEA;QACF;8BAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBAAO,6LAAC;YAAI,WAAU;sBAAyC;;;;;;IACjE;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBAAO,6LAAC;YAAI,WAAU;sBAAyC;;;;;;IACjE;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC,kJAAQ;gBAAe,MAAM;eAAf,KAAK,EAAE;;;;;;;;;;AAI9B;GArFgB;KAAA"}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"sources":["file:///D:/GitHubNovi/Nexus/components/profile/profile-tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { UserPosts } from \"@/components/profile/user-posts\"\n\ninterface ProfileTabsProps {\n  userId: string\n  username: string\n}\n\nexport function ProfileTabs({ userId, username }: ProfileTabsProps) {\n  const [activeTab] = useState<\"posts\">(\"posts\")\n\n  return (\n    <div className=\"mx-auto max-w-2xl\">\n      <div className=\"border-b\">\n        <div className=\"flex\">\n          <button\n            className={`flex-1 py-4 text-sm font-medium ${\n              activeTab === \"posts\" ? \"border-b-2 border-primary text-primary\" : \"text-muted-foreground\"\n            }`}\n          >\n            Posts\n          </button>\n        </div>\n      </div>\n\n      <div className=\"py-4\">{activeTab === \"posts\" && <UserPosts userId={userId} />}</div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAUO,SAAS,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAoB;;IAChE,MAAM,CAAC,UAAU,GAAG,IAAA,yKAAQ,EAAU;IAEtC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBACC,WAAW,CAAC,gCAAgC,EAC1C,cAAc,UAAU,2CAA2C,yBACnE;kCACH;;;;;;;;;;;;;;;;0BAML,6LAAC;gBAAI,WAAU;0BAAQ,cAAc,yBAAW,6LAAC,uJAAS;oBAAC,QAAQ;;;;;;;;;;;;;;;;;AAGzE;GApBgB;KAAA"}}]
}